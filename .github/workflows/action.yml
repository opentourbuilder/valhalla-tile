on:
  workflow_dispatch:

jobs:
  generate_tile:
    runs-on: ubuntu-latest
    container: ghcr.io/gis-ops/docker-valhalla/valhalla:latest
    steps:
    
    - name: Generate Tile
      run: |
        sudo apt install wget -y
        sudo wget https://download.geofabrik.de/north-america/us/south-carolina-latest.osm.pbf
        sudo mkdir -p valhalla_tiles
        sudo valhalla_build_config > valhalla.json
        sudo valhalla_build_tiles -c valhalla.json south-carolina-latest.osm.pbf
